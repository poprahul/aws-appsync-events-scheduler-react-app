{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n\n  return t;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n};\n\nimport { ApolloLink, Observable } from 'apollo-link';\nimport { print } from 'graphql/language/printer';\n\nvar throwServerError = function (response, result, message) {\n  var error = new Error(message);\n  error.response = response;\n  error.statusCode = response.status;\n  error.result = result;\n  throw error;\n};\n\nvar parseAndCheckResponse = function (request) {\n  return function (response) {\n    return response.text().then(function (bodyText) {\n      try {\n        return JSON.parse(bodyText);\n      } catch (err) {\n        var parseError = err;\n        parseError.response = response;\n        parseError.statusCode = response.status;\n        parseError.bodyText = bodyText;\n        return Promise.reject(parseError);\n      }\n    }).then(function (result) {\n      if (response.status >= 300) {\n        throwServerError(response, result, \"Response not successful: Received status code \" + response.status);\n      }\n\n      if (!result.hasOwnProperty('data') && !result.hasOwnProperty('errors')) {\n        throwServerError(response, result, \"Server response was missing for query '\" + request.operationName + \"'.\");\n      }\n\n      return result;\n    });\n  };\n};\n\nvar checkFetcher = function (fetcher) {\n  if (fetcher.use) {\n    throw new Error(\"\\n      It looks like you're using apollo-fetch! Apollo Link now uses native fetch\\n      implementation, so apollo-fetch is not needed. If you want to use your existing\\n      apollo-fetch middleware, please check this guide to upgrade:\\n        https://github.com/apollographql/apollo-link/blob/master/docs/implementation.md\\n    \");\n  }\n};\n\nvar warnIfNoFetch = function (fetcher) {\n  if (!fetcher && typeof fetch === 'undefined') {\n    var library = 'unfetch';\n    if (typeof window === 'undefined') library = 'node-fetch';\n    throw new Error(\"fetch is not found globally and no fetcher passed, to fix pass a fetch for\\n      your environment like https://www.npmjs.com/package/\" + library + \".\\n\\n      For example:\\n        import fetch from '\" + library + \"';\\n        import { createHttpLink } from 'apollo-link-http';\\n\\n        const link = createHttpLink({ uri: '/graphql', fetch: fetch });\\n      \");\n  }\n};\n\nvar createSignalIfSupported = function () {\n  if (typeof AbortController === 'undefined') return {\n    controller: false,\n    signal: false\n  };\n  var controller = new AbortController();\n  var signal = controller.signal;\n  return {\n    controller: controller,\n    signal: signal\n  };\n};\n\nvar defaultHttpOptions = {\n  includeQuery: true,\n  includeExtensions: false\n};\nexport var createHttpLink = function (linkOptions) {\n  if (linkOptions === void 0) {\n    linkOptions = {};\n  }\n\n  var uri = linkOptions.uri,\n      fetcher = linkOptions.fetch,\n      includeExtensions = linkOptions.includeExtensions,\n      requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"includeExtensions\"]);\n\n  warnIfNoFetch(fetcher);\n  if (fetcher) checkFetcher(fetcher);\n  if (!fetcher) fetcher = fetch;\n  if (!uri) uri = '/graphql';\n  return new ApolloLink(function (operation) {\n    return new Observable(function (observer) {\n      var _a = operation.getContext(),\n          headers = _a.headers,\n          credentials = _a.credentials,\n          _b = _a.fetchOptions,\n          fetchOptions = _b === void 0 ? {} : _b,\n          contextURI = _a.uri,\n          _c = _a.http,\n          httpOptions = _c === void 0 ? {} : _c;\n\n      var operationName = operation.operationName,\n          extensions = operation.extensions,\n          variables = operation.variables,\n          query = operation.query;\n\n      var http = __assign({}, defaultHttpOptions, httpOptions);\n\n      var body = {\n        operationName: operationName,\n        variables: variables\n      };\n      if (includeExtensions || http.includeExtensions) body.extensions = extensions;\n      if (http.includeQuery) body.query = print(query);\n      var serializedBody;\n\n      try {\n        serializedBody = JSON.stringify(body);\n      } catch (e) {\n        var parseError = new Error(\"Network request failed. Payload is not serializable: \" + e.message);\n        parseError.parseError = e;\n        throw parseError;\n      }\n\n      var options = fetchOptions;\n      if (requestOptions.fetchOptions) options = __assign({}, requestOptions.fetchOptions, options);\n\n      var fetcherOptions = __assign({\n        method: 'POST'\n      }, options, {\n        headers: {\n          accept: '*/*',\n          'content-type': 'application/json'\n        },\n        body: serializedBody\n      });\n\n      if (requestOptions.credentials) fetcherOptions.credentials = requestOptions.credentials;\n      if (credentials) fetcherOptions.credentials = credentials;\n      if (requestOptions.headers) fetcherOptions.headers = __assign({}, fetcherOptions.headers, requestOptions.headers);\n      if (headers) fetcherOptions.headers = __assign({}, fetcherOptions.headers, headers);\n\n      var _d = createSignalIfSupported(),\n          controller = _d.controller,\n          signal = _d.signal;\n\n      if (controller) fetcherOptions.signal = signal;\n      fetcher(contextURI || uri, fetcherOptions).then(function (response) {\n        operation.setContext({\n          response: response\n        });\n        return response;\n      }).then(parseAndCheckResponse(operation)).then(function (result) {\n        observer.next(result);\n        observer.complete();\n        return result;\n      }).catch(function (err) {\n        if (err.name === 'AbortError') return;\n        observer.error(err);\n      });\n      return function () {\n        if (controller) controller.abort();\n      };\n    });\n  });\n};\n\nvar HttpLink = function (_super) {\n  __extends(HttpLink, _super);\n\n  function HttpLink(opts) {\n    return _super.call(this, createHttpLink(opts).request) || this;\n  }\n\n  return HttpLink;\n}(ApolloLink);\n\nexport { HttpLink };","map":{"version":3,"sources":["../src/httpLink.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport { ApolloLink, Observable } from 'apollo-link';\nimport { print } from 'graphql/language/printer';\nvar throwServerError = function (response, result, message) {\n    var error = new Error(message);\n    error.response = response;\n    error.statusCode = response.status;\n    error.result = result;\n    throw error;\n};\nvar parseAndCheckResponse = function (request) { return function (response) {\n    return response\n        .text()\n        .then(function (bodyText) {\n        try {\n            return JSON.parse(bodyText);\n        }\n        catch (err) {\n            var parseError = err;\n            parseError.response = response;\n            parseError.statusCode = response.status;\n            parseError.bodyText = bodyText;\n            return Promise.reject(parseError);\n        }\n    })\n        .then(function (result) {\n        if (response.status >= 300) {\n            throwServerError(response, result, \"Response not successful: Received status code \" + response.status);\n        }\n        if (!result.hasOwnProperty('data') && !result.hasOwnProperty('errors')) {\n            throwServerError(response, result, \"Server response was missing for query '\" + request.operationName + \"'.\");\n        }\n        return result;\n    });\n}; };\nvar checkFetcher = function (fetcher) {\n    if (fetcher.use) {\n        throw new Error(\"\\n      It looks like you're using apollo-fetch! Apollo Link now uses native fetch\\n      implementation, so apollo-fetch is not needed. If you want to use your existing\\n      apollo-fetch middleware, please check this guide to upgrade:\\n        https://github.com/apollographql/apollo-link/blob/master/docs/implementation.md\\n    \");\n    }\n};\nvar warnIfNoFetch = function (fetcher) {\n    if (!fetcher && typeof fetch === 'undefined') {\n        var library = 'unfetch';\n        if (typeof window === 'undefined')\n            library = 'node-fetch';\n        throw new Error(\"fetch is not found globally and no fetcher passed, to fix pass a fetch for\\n      your environment like https://www.npmjs.com/package/\" + library + \".\\n\\n      For example:\\n        import fetch from '\" + library + \"';\\n        import { createHttpLink } from 'apollo-link-http';\\n\\n        const link = createHttpLink({ uri: '/graphql', fetch: fetch });\\n      \");\n    }\n};\nvar createSignalIfSupported = function () {\n    if (typeof AbortController === 'undefined')\n        return { controller: false, signal: false };\n    var controller = new AbortController();\n    var signal = controller.signal;\n    return { controller: controller, signal: signal };\n};\nvar defaultHttpOptions = {\n    includeQuery: true,\n    includeExtensions: false,\n};\nexport var createHttpLink = function (linkOptions) {\n    if (linkOptions === void 0) { linkOptions = {}; }\n    var uri = linkOptions.uri, fetcher = linkOptions.fetch, includeExtensions = linkOptions.includeExtensions, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"includeExtensions\"]);\n    warnIfNoFetch(fetcher);\n    if (fetcher)\n        checkFetcher(fetcher);\n    if (!fetcher)\n        fetcher = fetch;\n    if (!uri)\n        uri = '/graphql';\n    return new ApolloLink(function (operation) {\n        return new Observable(function (observer) {\n            var _a = operation.getContext(), headers = _a.headers, credentials = _a.credentials, _b = _a.fetchOptions, fetchOptions = _b === void 0 ? {} : _b, contextURI = _a.uri, _c = _a.http, httpOptions = _c === void 0 ? {} : _c;\n            var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\n            var http = __assign({}, defaultHttpOptions, httpOptions);\n            var body = { operationName: operationName, variables: variables };\n            if (includeExtensions || http.includeExtensions)\n                body.extensions = extensions;\n            if (http.includeQuery)\n                body.query = print(query);\n            var serializedBody;\n            try {\n                serializedBody = JSON.stringify(body);\n            }\n            catch (e) {\n                var parseError = new Error(\"Network request failed. Payload is not serializable: \" + e.message);\n                parseError.parseError = e;\n                throw parseError;\n            }\n            var options = fetchOptions;\n            if (requestOptions.fetchOptions)\n                options = __assign({}, requestOptions.fetchOptions, options);\n            var fetcherOptions = __assign({ method: 'POST' }, options, { headers: {\n                    accept: '*/*',\n                    'content-type': 'application/json',\n                }, body: serializedBody });\n            if (requestOptions.credentials)\n                fetcherOptions.credentials = requestOptions.credentials;\n            if (credentials)\n                fetcherOptions.credentials = credentials;\n            if (requestOptions.headers)\n                fetcherOptions.headers = __assign({}, fetcherOptions.headers, requestOptions.headers);\n            if (headers)\n                fetcherOptions.headers = __assign({}, fetcherOptions.headers, headers);\n            var _d = createSignalIfSupported(), controller = _d.controller, signal = _d.signal;\n            if (controller)\n                fetcherOptions.signal = signal;\n            fetcher(contextURI || uri, fetcherOptions)\n                .then(function (response) {\n                operation.setContext({ response: response });\n                return response;\n            })\n                .then(parseAndCheckResponse(operation))\n                .then(function (result) {\n                observer.next(result);\n                observer.complete();\n                return result;\n            })\n                .catch(function (err) {\n                if (err.name === 'AbortError')\n                    return;\n                observer.error(err);\n            });\n            return function () {\n                if (controller)\n                    controller.abort();\n            };\n        });\n    });\n};\nvar HttpLink = (function (_super) {\n    __extends(HttpLink, _super);\n    function HttpLink(opts) {\n        return _super.call(this, createHttpLink(opts).request) || this;\n    }\n    return HttpLink;\n}(ApolloLink));\nexport { HttpLink };\n//# sourceMappingURL=httpLink.js.map"]},"metadata":{},"sourceType":"module"}