{"ast":null,"code":"import { GraphQLError } from '../../error';\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nimport find from '../../jsutils/find';\nimport { Kind } from '../../language/kinds';\nimport { DirectiveLocation } from '../../language/directiveLocation';\nexport function unknownDirectiveMessage(directiveName) {\n  return 'Unknown directive \"' + directiveName + '\".';\n}\nexport function misplacedDirectiveMessage(directiveName, location) {\n  return 'Directive \"' + directiveName + '\" may not be used on ' + location + '.';\n}\n/**\n * Known directives\n *\n * A GraphQL document is only valid if all `@directives` are known by the\n * schema and legally positioned.\n */\n\nexport function KnownDirectives(context) {\n  return {\n    Directive: function Directive(node, key, parent, path, ancestors) {\n      var directiveDef = find(context.getSchema().getDirectives(), function (def) {\n        return def.name === node.name.value;\n      });\n\n      if (!directiveDef) {\n        context.reportError(new GraphQLError(unknownDirectiveMessage(node.name.value), [node]));\n        return;\n      }\n\n      var candidateLocation = getDirectiveLocationForASTPath(ancestors);\n\n      if (candidateLocation && directiveDef.locations.indexOf(candidateLocation) === -1) {\n        context.reportError(new GraphQLError(misplacedDirectiveMessage(node.name.value, candidateLocation), [node]));\n      }\n    }\n  };\n}\n\nfunction getDirectiveLocationForASTPath(ancestors) {\n  var appliedTo = ancestors[ancestors.length - 1];\n\n  if (!Array.isArray(appliedTo)) {\n    switch (appliedTo.kind) {\n      case Kind.OPERATION_DEFINITION:\n        switch (appliedTo.operation) {\n          case 'query':\n            return DirectiveLocation.QUERY;\n\n          case 'mutation':\n            return DirectiveLocation.MUTATION;\n\n          case 'subscription':\n            return DirectiveLocation.SUBSCRIPTION;\n        }\n\n        break;\n\n      case Kind.FIELD:\n        return DirectiveLocation.FIELD;\n\n      case Kind.FRAGMENT_SPREAD:\n        return DirectiveLocation.FRAGMENT_SPREAD;\n\n      case Kind.INLINE_FRAGMENT:\n        return DirectiveLocation.INLINE_FRAGMENT;\n\n      case Kind.FRAGMENT_DEFINITION:\n        return DirectiveLocation.FRAGMENT_DEFINITION;\n\n      case Kind.SCHEMA_DEFINITION:\n        return DirectiveLocation.SCHEMA;\n\n      case Kind.SCALAR_TYPE_DEFINITION:\n      case Kind.SCALAR_TYPE_EXTENSION:\n        return DirectiveLocation.SCALAR;\n\n      case Kind.OBJECT_TYPE_DEFINITION:\n      case Kind.OBJECT_TYPE_EXTENSION:\n        return DirectiveLocation.OBJECT;\n\n      case Kind.FIELD_DEFINITION:\n        return DirectiveLocation.FIELD_DEFINITION;\n\n      case Kind.INTERFACE_TYPE_DEFINITION:\n      case Kind.INTERFACE_TYPE_EXTENSION:\n        return DirectiveLocation.INTERFACE;\n\n      case Kind.UNION_TYPE_DEFINITION:\n      case Kind.UNION_TYPE_EXTENSION:\n        return DirectiveLocation.UNION;\n\n      case Kind.ENUM_TYPE_DEFINITION:\n      case Kind.ENUM_TYPE_EXTENSION:\n        return DirectiveLocation.ENUM;\n\n      case Kind.ENUM_VALUE_DEFINITION:\n        return DirectiveLocation.ENUM_VALUE;\n\n      case Kind.INPUT_OBJECT_TYPE_DEFINITION:\n      case Kind.INPUT_OBJECT_TYPE_EXTENSION:\n        return DirectiveLocation.INPUT_OBJECT;\n\n      case Kind.INPUT_VALUE_DEFINITION:\n        var parentNode = ancestors[ancestors.length - 3];\n        return parentNode.kind === Kind.INPUT_OBJECT_TYPE_DEFINITION ? DirectiveLocation.INPUT_FIELD_DEFINITION : DirectiveLocation.ARGUMENT_DEFINITION;\n    }\n  }\n}","map":{"version":3,"sources":["/Users/poprahul/workspace/frontend/amplify-apps/calandarApp/aws-mobile-appsync-events-starter-react/node_modules/aws-appsync/node_modules/graphql/module/validation/rules/KnownDirectives.js"],"names":["GraphQLError","find","Kind","DirectiveLocation","unknownDirectiveMessage","directiveName","misplacedDirectiveMessage","location","KnownDirectives","context","Directive","node","key","parent","path","ancestors","directiveDef","getSchema","getDirectives","def","name","value","reportError","candidateLocation","getDirectiveLocationForASTPath","locations","indexOf","appliedTo","length","Array","isArray","kind","OPERATION_DEFINITION","operation","QUERY","MUTATION","SUBSCRIPTION","FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT","FRAGMENT_DEFINITION","SCHEMA_DEFINITION","SCHEMA","SCALAR_TYPE_DEFINITION","SCALAR_TYPE_EXTENSION","SCALAR","OBJECT_TYPE_DEFINITION","OBJECT_TYPE_EXTENSION","OBJECT","FIELD_DEFINITION","INTERFACE_TYPE_DEFINITION","INTERFACE_TYPE_EXTENSION","INTERFACE","UNION_TYPE_DEFINITION","UNION_TYPE_EXTENSION","UNION","ENUM_TYPE_DEFINITION","ENUM_TYPE_EXTENSION","ENUM","ENUM_VALUE_DEFINITION","ENUM_VALUE","INPUT_OBJECT_TYPE_DEFINITION","INPUT_OBJECT_TYPE_EXTENSION","INPUT_OBJECT","INPUT_VALUE_DEFINITION","parentNode","INPUT_FIELD_DEFINITION","ARGUMENT_DEFINITION"],"mappings":"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","sourcesContent":["\nimport { GraphQLError } from '../../error'; /**\n                                             * Copyright (c) 2015-present, Facebook, Inc.\n                                             *\n                                             * This source code is licensed under the MIT license found in the\n                                             * LICENSE file in the root directory of this source tree.\n                                             *\n                                             * \n                                             */\n\nimport find from '../../jsutils/find';\nimport { Kind } from '../../language/kinds';\nimport { DirectiveLocation } from '../../language/directiveLocation';\n\n\nexport function unknownDirectiveMessage(directiveName) {\n  return 'Unknown directive \"' + directiveName + '\".';\n}\n\nexport function misplacedDirectiveMessage(directiveName, location) {\n  return 'Directive \"' + directiveName + '\" may not be used on ' + location + '.';\n}\n\n/**\n * Known directives\n *\n * A GraphQL document is only valid if all `@directives` are known by the\n * schema and legally positioned.\n */\nexport function KnownDirectives(context) {\n  return {\n    Directive: function Directive(node, key, parent, path, ancestors) {\n      var directiveDef = find(context.getSchema().getDirectives(), function (def) {\n        return def.name === node.name.value;\n      });\n      if (!directiveDef) {\n        context.reportError(new GraphQLError(unknownDirectiveMessage(node.name.value), [node]));\n        return;\n      }\n      var candidateLocation = getDirectiveLocationForASTPath(ancestors);\n      if (candidateLocation && directiveDef.locations.indexOf(candidateLocation) === -1) {\n        context.reportError(new GraphQLError(misplacedDirectiveMessage(node.name.value, candidateLocation), [node]));\n      }\n    }\n  };\n}\n\nfunction getDirectiveLocationForASTPath(ancestors) {\n  var appliedTo = ancestors[ancestors.length - 1];\n  if (!Array.isArray(appliedTo)) {\n    switch (appliedTo.kind) {\n      case Kind.OPERATION_DEFINITION:\n        switch (appliedTo.operation) {\n          case 'query':\n            return DirectiveLocation.QUERY;\n          case 'mutation':\n            return DirectiveLocation.MUTATION;\n          case 'subscription':\n            return DirectiveLocation.SUBSCRIPTION;\n        }\n        break;\n      case Kind.FIELD:\n        return DirectiveLocation.FIELD;\n      case Kind.FRAGMENT_SPREAD:\n        return DirectiveLocation.FRAGMENT_SPREAD;\n      case Kind.INLINE_FRAGMENT:\n        return DirectiveLocation.INLINE_FRAGMENT;\n      case Kind.FRAGMENT_DEFINITION:\n        return DirectiveLocation.FRAGMENT_DEFINITION;\n      case Kind.SCHEMA_DEFINITION:\n        return DirectiveLocation.SCHEMA;\n      case Kind.SCALAR_TYPE_DEFINITION:\n      case Kind.SCALAR_TYPE_EXTENSION:\n        return DirectiveLocation.SCALAR;\n      case Kind.OBJECT_TYPE_DEFINITION:\n      case Kind.OBJECT_TYPE_EXTENSION:\n        return DirectiveLocation.OBJECT;\n      case Kind.FIELD_DEFINITION:\n        return DirectiveLocation.FIELD_DEFINITION;\n      case Kind.INTERFACE_TYPE_DEFINITION:\n      case Kind.INTERFACE_TYPE_EXTENSION:\n        return DirectiveLocation.INTERFACE;\n      case Kind.UNION_TYPE_DEFINITION:\n      case Kind.UNION_TYPE_EXTENSION:\n        return DirectiveLocation.UNION;\n      case Kind.ENUM_TYPE_DEFINITION:\n      case Kind.ENUM_TYPE_EXTENSION:\n        return DirectiveLocation.ENUM;\n      case Kind.ENUM_VALUE_DEFINITION:\n        return DirectiveLocation.ENUM_VALUE;\n      case Kind.INPUT_OBJECT_TYPE_DEFINITION:\n      case Kind.INPUT_OBJECT_TYPE_EXTENSION:\n        return DirectiveLocation.INPUT_OBJECT;\n      case Kind.INPUT_VALUE_DEFINITION:\n        var parentNode = ancestors[ancestors.length - 3];\n        return parentNode.kind === Kind.INPUT_OBJECT_TYPE_DEFINITION ? DirectiveLocation.INPUT_FIELD_DEFINITION : DirectiveLocation.ARGUMENT_DEFINITION;\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}