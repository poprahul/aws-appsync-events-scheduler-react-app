{"ast":null,"code":"var wrap = require('optimism').wrap;\n\nexport { wrap };\n\nvar CacheKeyNode = function () {\n  function CacheKeyNode() {\n    this.children = null;\n    this.key = null;\n  }\n\n  CacheKeyNode.prototype.lookup = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return this.lookupArray(args);\n  };\n\n  CacheKeyNode.prototype.lookupArray = function (array) {\n    var node = this;\n    array.forEach(function (value) {\n      node = node.getOrCreate(value);\n    });\n    return node.key || (node.key = Object.create(null));\n  };\n\n  CacheKeyNode.prototype.getOrCreate = function (value) {\n    var map = this.children || (this.children = new Map());\n    var node = map.get(value);\n\n    if (!node) {\n      map.set(value, node = new CacheKeyNode());\n    }\n\n    return node;\n  };\n\n  return CacheKeyNode;\n}();\n\nexport { CacheKeyNode };","map":{"version":3,"sources":["../src/optimism.ts"],"names":[],"mappings":"AAiBE,IAAA,IAAA,GAAA,OAAA,CAAA,UAAA,CAAA,CAAA,IAAA;;AAQF,SAAS,IAAT;;AAEA,IAAA,YAAA,GAAA,YAAA;AAAA,WAAA,YAAA,GAAA;AACU,SAAA,QAAA,GAAmD,IAAnD;AACA,SAAA,GAAA,GAAsB,IAAtB;AAsBT;;AApBC,EAAA,YAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AAAO,QAAA,IAAA,GAAA,EAAA;;SAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAc;AAAd,MAAA,IAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AACL,WAAO,KAAK,WAAL,CAAiB,IAAjB,CAAP;AACD,GAFD;;AAIA,EAAA,YAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAY,KAAZ,EAAwB;AACtB,QAAI,IAAI,GAA0B,IAAlC;AACA,IAAA,KAAK,CAAC,OAAN,CAAc,UAAA,KAAA,EAAK;AACjB,MAAA,IAAI,GAAG,IAAI,CAAC,WAAL,CAAiB,KAAjB,CAAP;AACD,KAFD;AAGA,WAAO,IAAI,CAAC,GAAL,KAAa,IAAI,CAAC,GAAL,GAAW,MAAM,CAAC,MAAP,CAAc,IAAd,CAAxB,CAAP;AACD,GAND;;AAQA,EAAA,YAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAY,KAAZ,EAAsB;AACpB,QAAM,GAAG,GAAG,KAAK,QAAL,KAAkB,KAAK,QAAL,GAAgB,IAAI,GAAJ,EAAlC,CAAZ;AACA,QAAI,IAAI,GAAG,GAAG,CAAC,GAAJ,CAAQ,KAAR,CAAX;;AACA,QAAI,CAAC,IAAL,EAAW;AACT,MAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,IAAI,GAAG,IAAI,YAAJ,EAAtB;AACD;;AACD,WAAO,IAAP;AACD,GAPD;;AAQF,SAAA,YAAA;AAAC,CAxBD,EAAA","sourceRoot":"","sourcesContent":["var wrap = require('optimism').wrap;\nexport { wrap };\nvar CacheKeyNode = (function () {\n    function CacheKeyNode() {\n        this.children = null;\n        this.key = null;\n    }\n    CacheKeyNode.prototype.lookup = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return this.lookupArray(args);\n    };\n    CacheKeyNode.prototype.lookupArray = function (array) {\n        var node = this;\n        array.forEach(function (value) {\n            node = node.getOrCreate(value);\n        });\n        return node.key || (node.key = Object.create(null));\n    };\n    CacheKeyNode.prototype.getOrCreate = function (value) {\n        var map = this.children || (this.children = new Map());\n        var node = map.get(value);\n        if (!node) {\n            map.set(value, node = new CacheKeyNode());\n        }\n        return node;\n    };\n    return CacheKeyNode;\n}());\nexport { CacheKeyNode };\n//# sourceMappingURL=optimism.js.map"]},"metadata":{},"sourceType":"module"}